(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{54:function(e,t,a){e.exports=a.p+"static/media/robo.afd16a27.png"},62:function(e,t,a){e.exports=a(90)},67:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(9),c=a.n(s),l=(a(67),a(27)),i=a(28),r=a(39),d=a(40),u=(a(68),a(131)),h=a(134),p=a(135),b=a(133),m=a(129),g=a(130),v=a(124),w=a(128),f=a(132),E=a(14),k=a(54),O=a.n(k),j=a(69),y={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,POST,PUT,DELETE,OPTIONS","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"},_=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"new_message",value:function(t,a,n,o,s,c,l){j.post("http://127.0.0.1/proxy",e.alice_request(a,n,o,s),{crossDomain:!0,headers:y,params:{url:t,key:123}}).then((function(e){console.log(e),c(e)})).catch((function(e){console.log(e),l(e)}))}}],[{key:"alice_request",value:function(e,t,a,n){return{meta:{locale:"ru-RU",timezone:"Europe/Moscow",client_id:"ru.yandex.searchplugin/5.80 (Samsung Galaxy; Android 4.4)"},request:{command:e,original_utterance:e,type:"SimpleUtterance"},session:{new:n,message_id:t,session_id:a,user_id:a,skill_id:"123"},version:"1.0"}}}]),e}(),C=function(e){Object(d.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleNewUserMessage=function(e){console.log("New message incoming! ".concat(e));var t=new _;n.props.webhook?t.new_message(n.props.webhook,e,1,n.props.session_id,!1,(function(e){var t,a;(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.response)||void 0===a?void 0:a.text)?Object(E.addResponseMessage)(e.data.response.text):Object(E.addResponseMessage)("\u041e\u0439. \u0421 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u0440\u0438\u0448\u0451\u043b \u043f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 :(")}),(function(e){Object(E.addResponseMessage)("\u041a\u0430\u0436\u0435\u0442\u0441\u044f, \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. "+e+" :(")})):Object(E.addResponseMessage)("\u041d\u0438 \u043e\u0434\u0438\u043d \u0447\u0430\u0442 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d.")},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.webhook?Object(E.addResponseMessage)("\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0447\u0430\u0442!"):Object(E.addResponseMessage)("\u0412\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043b\u0438 webhook!"),Object(E.toggleWidget)()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.webhook&&(Object(E.dropMessages)(),Object(E.addResponseMessage)("\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0447\u0430\u0442!"))}},{key:"render",value:function(){return o.a.createElement(E.Widget,{handleNewUserMessage:this.handleNewUserMessage,profileAvatar:O.a,senderPlaceHolder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442",title:"\u0427\u0430\u0442 \u0431\u043e\u0442",subtitle:"\u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u043d\u0430\u0432\u044b\u043a\u0438"})}}]),a}(n.Component),M=function(e){Object(d.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onChangeSelect=function(e){console.log("Select: ".concat(e.target.value)),"other"===e.target.value?n.setState({input_disabled:!1,selectedChat:e.target.value,webhook:""}):n.setState({input_disabled:!0,selectedChat:e.target.value,webhook:e.target.value})},n.onChangeInput=function(e){console.log("onChangeInput: ".concat(e.target.value)),n.setState({webhook:e.target.value})},n.state={selectedChat:null,webhook:null,session_id:Object(f.a)(),input_disabled:!0},n}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:a,style:{padding:10}},o.a.createElement(v.a,{container:!0,spacing:2},o.a.createElement(v.a,{item:!0}),o.a.createElement(v.a,{item:!0,xs:12},o.a.createElement(w.a,null,o.a.createElement("div",{style:{padding:10}},o.a.createElement(b.a,{component:"fieldset"},o.a.createElement(m.a,{component:"legend"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0432\u044b\u043a"),o.a.createElement(h.a,{"aria-label":"gender",name:"gender1",value:this.state.selectedChat,onChange:this.onChangeSelect.bind()},o.a.createElement(p.a,{value:"https://zenbot-dev.just-ai.com/chatadapter/chatapi/webhook/yandex/puUqUBqh:072bbd0ef039296f36f2c4fd838699ec9c676140",control:o.a.createElement(u.a,null),label:"\u0417\u0430\u043a\u0430\u0437 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u043e\u0432"}),o.a.createElement(p.a,{value:"https://zenbot-dev.just-ai.com/chatadapter/chatapi/webhook/yandex/zmpptEVS:3b8a17a3980cb005d1f675b417d69e9ceec8893e",control:o.a.createElement(u.a,null),label:"\u041f\u043e\u043c\u043e\u0449\u043d\u0438\u043a \u0432 \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0435\u0434\u044b"}),o.a.createElement(p.a,{value:"other",control:o.a.createElement(u.a,null),label:"\u0421\u0432\u043e\u0439 webhook"})))))),o.a.createElement(v.a,{item:!0,xs:12},o.a.createElement(g.a,{id:"outlined-basic",disabled:this.state.input_disabled,label:this.state.webhook?"":"Webhook",variant:"outlined",onChange:this.onChangeInput.bind(),fullWidth:!0,value:this.state.webhook})),o.a.createElement(v.a,{item:!0,xs:12},o.a.createElement(C,{webhook:this.state.webhook,session_id:this.state.session_id})),o.a.createElement(v.a,{item:!0,xs:12})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.0836eb96.chunk.js.map